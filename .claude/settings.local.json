{
  "permissions": {
    "allow": [
      "Bash(git remote set-url:*)",
      "Bash(julia:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git config:*)",
      "Bash(chmod:*)",
      "Bash(./tools/gitlab/claude-agent-gitlab.sh:*)",
      "Bash(./tools/gitlab/get-token-noninteractive.sh:*)",
      "Bash(cat:*)",
      "Bash(./tools/gitlab/claude-agent-gitlab.sh test:*)",
      "Bash(./tools/gitlab/setup-labels.sh:*)",
      "Bash(./tools/gitlab/claude-agent-gitlab.sh create-issue:*)",
      "Bash(find:*)",
      "Read(//Users/ghscholt/**)",
      "Bash(git pull:*)",
      "Bash(git checkout:*)",
      "Bash(git fetch:*)",
      "Bash(gh api:*)",
      "Bash(git remote get-url:*)"
    ],
    "deny": [],
    "ask": [],
    "defaultMode": "acceptEdits"
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "git",
        "hooks": [
          {
            "type": "command",
            "command": "#!/bin/bash\nif [[ \"$CLAUDE_TOOL_NAME\" != *\"git\"* ]] && [[ \"$CLAUDE_COMMAND\" != *\"git\"* ]]; then exit 0; fi\nif ! git rev-parse --git-dir > /dev/null 2>&1; then exit 0; fi\nif [ -f .env.gitlab.local ]; then\n  source .env.gitlab.local\n  current_url=$(git remote get-url origin 2>/dev/null)\n  if [[ \"$current_url\" != *\"oauth2:\"* ]]; then\n    echo \"ðŸ”§ Setting up OAuth2 authentication\"\n    git remote set-url origin \"https://oauth2:${GITLAB_PRIVATE_TOKEN}@git.mpi-cbg.de/globaloptim/globtimplots.git\"\n    echo \"âœ… Git remote configured for token authentication\"\n  fi\nfi",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "git",
        "hooks": [
          {
            "type": "command",
            "command": "#!/bin/bash\nif ! git rev-parse --git-dir > /dev/null 2>&1; then exit 0; fi\ngit_status=$(git status --porcelain)\nif [ -z \"$git_status\" ]; then exit 0; fi\nfile_count=$(echo \"$git_status\" | wc -l | tr -d ' ')\nif [ \"$file_count\" -ge 5 ] || [[ \"$CLAUDE_CONTEXT\" == *\"commit\"* ]] || [[ \"$CLAUDE_CONTEXT\" == *\"push\"* ]]; then\n  if [ -f .env.gitlab.local ]; then\n    source .env.gitlab.local\n    if [[ \"$(git remote get-url origin)\" != *\"oauth2:\"* ]]; then\n      git remote set-url origin \"https://oauth2:${GITLAB_PRIVATE_TOKEN}@git.mpi-cbg.de/globaloptim/globtimplots.git\"\n    fi\n  fi\n  git add .\n  commit_msg=\"feat: Auto-commit development progress\n\nðŸ”„ Changes Summary:\n- $file_count files modified/added\n- Context: $CLAUDE_CONTEXT\n\nðŸ¤– Generated with [Claude Code](https://claude.ai/code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\"\n  git commit -m \"$commit_msg\"\n  git push\n  echo \"âœ… Auto-committed and pushed $file_count files\"\nfi",
            "timeout": 60
          }
        ]
      }
    ]
  }
}